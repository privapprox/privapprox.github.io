---
layout: page-fullwidth
show_meta: false
title: "PrivApprox Design"
subheadline:
teaser:
header: no
permalink: "/design/"
---

<div class="row">
<div class="medium-4 medium-push-8 columns" markdown="1">
<div class="panel radius" markdown="1">
**Table of Contents**
{: #toc }
*  TOC
{:toc}
</div>
</div><!-- /.medium-4.columns -->



<div class="medium-8 medium-pull-4 columns" markdown="1">
## System Overview

The workflow of PrivApprox consists of two main processes: submitting queries and answering queries. In the first phase, an analyst submits a query (along with the execution budget) to clients via the aggregator and proxies. In the second phase, the query is answered by the clients in the reverse direction.
</div><!-- /.medium-8.columns -->
<img class="t20" width="60%" src="{{ site.urlimg }}system-overview.png" alt="System overview">


<div class="medium-12 medium-pull-12 columns" markdown="1">
## Submitting Queries

To perform statistical analysis over users’ private data streams, an analyst creates a query using the query model described in the <a href="https://arxiv.org/abs/1701.05403">technical report</a>. In particular, each query is signed by the analyst for non-repudiation and consists of the following fields:

<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

$$
\begin{equation}
\label{eq:query}
 Query := \langle Q_{ID}, SQL, A[n], f, w, \delta \rangle
\end{equation}
$$

<!-- <img class="t20" width="40%" src="{{ site.urlimg }}equation1.png" alt="query format"> -->

* $$Q_{ID}$$ denotes a unique identifier of the query. This can be generated by concatenating the identifier of the analyst with a serial number unique to the analyst.
* $$SQL$$ denotes the actual $$SQL$$ query, which is passed on to clients and executed on their respective personal data.
* $$A[n]$$ denotes the format of a client’s answer to the query. The answer is an n-bit vector where each bit associates with a possible answer value in the form of a "0" or "1" per index (or answer value range). $$f$$ denotes the answer frequency, i.e., how often the query needs to be executed at clients.
* $$w$$ denotes the window length for sliding window computations. For example, an analyst may only want to aggregate query results for the last 10 minutes, which means the window length is 10 minutes.
* $$\delta$$ denotes the sliding interval for sliding window computations. For example, an analyst may want to update the query results every one minute.

After forming the query, the analyst sends the query, along with the query execution budget, to the aggregator. Once receiving the pair of the query and query budget from the analyst, the aggregator first converts the query budget into system parameters for sampling $$(s)$$ and randomization $$(p;q)$$. Hereafter, the aggregator forwards the query and the converted system parameters to clients via proxies.

## Answering Queries

The query answering process involves several steps including \(i\) sampling at clients for approximation; \(ii\) randomizing answers for privacy preservation; \(iii\) transmitting answers for anonymization and unlinkability; and finally, \(iv\) aggregating answers with error estimation to give a confidence level on the approximate output.
